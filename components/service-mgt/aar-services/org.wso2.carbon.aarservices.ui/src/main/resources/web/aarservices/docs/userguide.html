<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
 ~ Copyright (c) 2005-2010, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 ~
 ~ WSO2 Inc. licenses this file to you under the Apache License,
 ~ Version 2.0 (the "License"); you may not use this file except
 ~ in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~    http://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing,
 ~ software distributed under the License is distributed on an
 ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 ~ KIND, either express or implied.  See the License for the
 ~ specific language governing permissions and limitations
 ~ under the License.
 -->
<html><head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1"></meta>
  <title>AAR Guide - User Guide</title>
  <link href="../../admin/css/documentation.css" rel="stylesheet" type="text/css" media="all" />
</head>
<body>
<h1>Deploying Service Archives</h1>



<p>The WSO2 SOA platform has the capability of Axis2 to deploy a service as
an archive file. You can bundle all your service-related resources, service
classes, and third-party libraries and then deploy the archive file. </p>

<p>To deploy the service, all you have to do is locate
the archive file and upload it. </p>

<h2>Uploading Service Archive Files</h2>

<p>To upload your service archive file, you first need to have all the class
files and the service.xml files in the archive directory. Thereafter, you can
create the archive file. </p>

<p>The folder structure of the service archive file will be as follows.</p>

<p><strong>Test.aar</strong></p>

<p style="margin-left: 2em;"><strong>META-INF</strong></p>

<p style="margin-left: 4em;"><strong>Services.xml</strong></p>

<p style="margin-left: 2em;"><strong>Test.class</strong></p>

<p><img alt="" src="../images/Service-archive.JPG" height="201" width="680"/></p>

<p>Figure 1: Uploading service archive files</p>
<ol>
  <li>In the navigator, under Manage/Services, click <strong>AAR
    Service</strong>. The <em><strong>Add Service Archives</strong></em>
    window appears.</li>
  <li>Provide the hierarchical path of the service. This is optional. If you want to manage
      services separately, specifying a heirarchy is important. This allows you to customise
      your service EPR as you wish. And also it allows you to manage multiple versions of the
      same service changing only the business logic.
      <p><strong>Example:</strong> Consider a service "Version"</p>
      <p>If no service hierarchy -> EPR is ../services/Version</p>
      <p>With service hierarchy foo/bar/1.0.0 -> EPR is ../services/foo/bar/1.0.0/Version</p>
  </li>
  <li>Click <strong>Browse</strong> to locate the file you want to
  upload.</li>
  <li>Click <strong>Upload</strong>.
    The <em><strong>Deployed Services</strong></em> page
    appears. Subsequently, if the service is successful, it will appear in
    the Service Groups table. If the service is faulty, a Faulty Service
    Groups link will appear. You can click the link to view the errors.</li>
</ol>

<h2>Testing the Service</h2>

<p>A successful service can be easily tested through the user
interface.Several options are available to control your service.</p>

<p><img alt="" src="../images/service%20dashboard.JPG" /></p>

<p>Figure 2: Service dashboard</p>
<ol>
  <li>In the navigator, under Manage/Services, click <strong>List</strong>.
    The <em><strong>Deployed Services</strong></em> page appears.</li>
  <li>Click on the service name you want to test. The <em><strong>Service
    Dashboard</strong></em> page appears.</li>
  <li>Click <strong>Try the service</strong> on the Client Operations
  panel.</li>
  <li>A page with your service name appears. It contains the operations
    available for your service.</li>
  <li>Give the parameters for the operations you want to invoke.</li>
  <li>Click <strong>Send</strong> button at the bottom of the window.</li>
</ol>

<p><img alt="" src="../images/try%20the%20service.JPG" /></p>

<p>Figure 3: Try the Service</p>
<ol>
</ol>

<p><span style="font-weight: bold;">Note</span>: Instead of using this user interface, you can also manually place
the .aar containing all the required files
into CARBON_HOME/repository/services.  These archive files can be deployed
as services. </p>

<h2>Generating the Client</h2>

<p>You can generate the client for your service using the WSDL2Java tool in WSO2 Application Server (WSO2 AS).</p>

<p><img alt="" src="../images/wsdl2code.JPG" /></p>

<p>Figure 4: Generating the client</p>
<ol>
  <li>In the navigator, under Manage/Services, click <strong>List</strong>.
    The <strong><em>Deployed Services</em></strong> page will appear.</li>
  <li>Click on the service name for which you want to generate the client.The
    <em><strong>Service Dashboard</strong></em> page appears.</li>
  <li>Click <strong>Generate Axis2 Client</strong>. The
    <strong><em>WSDL2Java</em></strong> page appears.</li>
  <li>Enter or select the appropriate values in the
    <em><strong>WSDL2Java</strong></em> page.</li>
  <li>Click <strong>Generate.</strong></li>
</ol>

</body></html>
